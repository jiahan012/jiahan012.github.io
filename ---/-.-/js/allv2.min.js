function game3s(e){var t=e;$("#game3").css("display","none"),$("#game1-content").removeClass("game2-content"),$("#game1-content").css("background-image","url('images/game3_bg.png')"),$("#game1-content > div").css("background-color","transparent"),$("#game-notify").css("display","none"),$("header").css("display","none"),$("#game2StartPage").css("display","none"),$("#game3StartPage").css("display","block"),$("#game3StartBtn").on("click",function(){$("#game3StartPage").css("display","none"),$("header").css("display","block"),$("#game3").css("display","block"),game3(t)})}function game3(e){clearInterval(r);for(var t=setInterval(";"),a=0;a<t;a++)clearInterval(a);logFile.push("第二關遊戲開始(H)\n"),logFileSimple.push("H"),db.ref(fullDbUrl+"Detail").push("第二關遊戲開始(H)");var l=780,n=e;$("#qa_total").show();var o=1;$("#topic").html(o);$("#qatotal").html(11);var r,s=$(".second_top-time span");s.text(l),$("#game-notify").css("display","block"),$("#game-notify-text").text("根據題目區的單字，從左下方按鍵區依序點擊字母並送出。");var i=function(){l>=0?(s.text(l),l--,clearInterval(r),r=setInterval(i,1e3)):(clearInterval(r),$("#nextModalMessage").html("遊戲結束。\n</br>即將進入下一關遊戲"),$("#nextModal").modal({backdrop:"static",keyboard:!1}),logFile.push("遊戲分數:"+n+"\n"),logFile.push("此關遊戲得分:"+(n-e)+"\n"),logFile.push("第二關遊戲結束-時間到，題目未作答完(Q)\n"),logFile.push("\n"),logFileSimple.push("Q"),db.ref(fullDbUrl+"Detail").push("遊戲分數:"+n),db.ref(fullDbUrl+"Detail").push("此關遊戲得分:"+(n-e)),db.ref(fullDbUrl+"Detail").push("第二關遊戲結束-時間到，題目未作答完(Q)"),$("#nextModal").on("hidden.bs.modal",function(e){$("#game3").css("display","none"),game4s(n)}))};r=setInterval(i,1e3),$("#game_score").text(n);var p=[{tw:"多樣的(adj)",en:"diverse"},{tw:"課外的(adj)",en:"extracurricular"},{tw:"參與(v)",en:"participate"},{tw:"堂兄弟(n)",en:"cousin"},{tw:"奉獻(v)",en:"devote"},{tw:"被激勵的(adj)",en:"motivated"},{tw:"財務的(adj)",en:"financial"},{tw:"態度(n)",en:"attitude"},{tw:"批判的(adj)",en:"critical"},{tw:"耗盡(v)",en:"exhaust"},{tw:"保險(n)",en:"insurance"},{tw:"討厭(v)",en:"disfavor"},{tw:"非凡的(adj)",en:"remarkable"},{tw:"同時地(adv)",en:"concurrently"},{tw:"不必要的(adj)",en:"needless"}],d=[],h=0,u=[],g=Number,c=(Number,!1);function m(e,t){return Math.random()>.5?-1:1}function b(e){for(var t="",a=0;a<e;a++)t+="qwertyuiopasdfghjklzxcvbnm".charAt(Math.floor(Math.random()*e));return t}function f(){d=[],$("#data_v").html(""),$(".in").removeClass("pointer_none"),$("#game-notify-text").text("根據題目區的單字，從左下方按鍵區依序點擊字母。"),$("#data_tw").html(h+1+". "+p[h].tw);for(var e=p[h].en.split(""),t=0;t<e.length;t++){var a={type:e[t],word:e[t]};d.push(a)}$("#game2_support").html(""),$("#game2_support").append(e[0]);for(t=1;t<e.length-1;t++)$("#game2_support").append(" _ ");$("#game2_support").append(e[e.length-1]),g=e.length;var l=b(16-g).split("");for(t=0;t<l.length;t++){var n={type:l[t],word:l[t]};d.push(n)}d.sort(m),d.reverse(),$(".in").each(function(e){$(this).removeData("value"),$(this).html("<h3>"+d[e].word+"</h3>"),$(this).attr("data-value",d[e].word)})}function v(){h===p.length?($("#nextModalMessage").html("遊戲結束。\n</br>即將進入下一關遊戲"),$("#nextModal").modal({backdrop:"static",keyboard:!1}),clearInterval(r),logFile.push("遊戲分數:"+n+"\n"),logFile.push("此關遊戲得分:"+(n-e)+"\n"),logFile.push("此關花費時間:"+(780-l)+"\n"),logFile.push("第二關遊戲結束-全部題目作答完(Z)\n"),logFile.push("\n"),logFileSimple.push("Z"),db.ref(fullDbUrl+"Detail").push("遊戲分數:"+n),db.ref(fullDbUrl+"Detail").push("此關遊戲得分:"+(n-e)),db.ref(fullDbUrl+"Detail").push("此關花費時間:"+(780-l)),db.ref(fullDbUrl+"Detail").push("第二關遊戲結束-全部題目作答完(Z)"),$("#nextModal").on("hidden.bs.modal",function(e){$("#game3").css("display","none"),game4s(n)})):($("#topic").html(o),f(),logFile.push("第"+(h+1)+"題\n"),db.ref(fullDbUrl+"Detail").push("第"+(h+1)+"題"),$("#game2_support_btn").attr("disabled",!1))}$("#qa_total_count").html(p.length),$("#game2_next_btn").on("click",function(){$("#game3NextModal").modal({backdrop:"static",keyboard:!1})}),$("#game3NextRight").on("click",function(){h<=p.length?(logFile.push(l+"秒--------------\x3e下一題按鈕(I)\n"),logFileSimple.push("I"),db.ref(fullDbUrl+"Detail").push(l+"秒--------------\x3e下一題按鈕(I)"),h+=1,o+=1,v()):v()}),$("#game3NextCancel").on("click",function(){$("#game3NextModal").modal("hide")}),$("#game2_support_btn").on("click",function(){logFile.push(l+"秒--------------\x3e提示單字按鈕(J)\n"),logFileSimple.push("J"),db.ref(fullDbUrl+"Detail").push(l+"秒--------------\x3e提示單字按鈕(J)"),$("#game2_support_btn").attr("disabled",!0),c=!0,function(){var e=p[h].en.split("");if(e.length%2==0){var t=e.length/2;$("#game2_support").html("");for(var a=0;a<t;a++)$("#game2_support").append(e[a]);for(var l=t;l<e.length-1;l++)$("#game2_support").append(" _ ");$("#game2_support").append(e[e.length-1])}else{var n=Math.round(e.length/2);$("#game2_support").html("");for(var a=0;a<n;a++)$("#game2_support").append(e[a]);for(var l=n;l<e.length-1;l++)$("#game2_support").append(" _ ");$("#game2_support").append(e[e.length-1])}}()}),$(".in").on("click",function(){$(this).addClass("pointer_none");var e=$(this).data("value");$("#data_v").append(e);var t=$(this).data("index");u.push(t),$("#game-notify-text").text("每題只有1次答題機會，送出前請多確認。")}),$("#game2_reset_btn").on("click",function(){$("#data_v").html(""),$(".in").removeClass("pointer_none")}),$("#game2_backspace_btn").on("click",function(){if($("#data_v").text().length>=1){var e=$("#data_v").text().slice(0,-1);$("#data_v").text(e)}if(u.length>=1){var t=u[u.length-1];$(".in").eq(t).removeClass("pointer_none"),u.splice(-1,1)}}),$("#game2_submit_btn").on("click",function(){$("#game3SubmitCheckModalMessage").html("您送出的拼字為: <b>"+$("#data_v").html()+"</b>\n</br>確定送出?"),$("#game3SubmitCheckModal").modal({backdrop:"static",keyboard:!1})}),$("#game3SubmitCheckRight").on("click",function(){$("#data_v").html()===p[h].en?(h<=p.length&&($("#alertModalMessage").html("很棒!答對了!"),$("#alertModal").modal({backdrop:"static",keyboard:!1})),h+=1,n+=c?10:20,o+=1,$("#topic").html(o),logFile.push(l+"秒--------------\x3e送出-答題正確(K)\n"),logFileSimple.push("K"),db.ref(fullDbUrl+"Detail").push(l+"秒--------------\x3e送出-答題正確(K)"),v(),$("#game_score").text(n),f()):(h<=p.length&&($("#alertModalMessage").html("答錯了!\n</br>正確答案為: "+p[h].en),$("#alertModal").modal({backdrop:"static",keyboard:!1})),h+=1,o+=1,$("#topic").html(o),logFile.push(l+"秒--------------\x3e送出-答題錯誤(L)\n"),logFileSimple.push("L"),db.ref(fullDbUrl+"Detail").push(l+"秒--------------\x3e送出-答題錯誤(L)"),v(),f()),c=!1,$("#game3SubmitCheckModal").modal("hide")}),$("#game3SubmitCheckCancel").on("click",function(){$("#game3SubmitCheckModal").modal("hide")}),function(){d=[],$("#data_tw").html(h+1+". "+p[h].tw);for(var e=p[h].en.split(""),t=0;t<e.length;t++){var a={type:e[t],word:e[t]};d.push(a)}for($("#game2_support").append(e[0]),t=1;t<e.length-1;t++)$("#game2_support").append(" _ ");$("#game2_support").append(e[e.length-1]),g=e.length;var l=b(16-g).split("");for(t=0;t<l.length;t++){var n={type:l[t],word:l[t]};d.push(n)}d.sort(m),d.reverse(),$(".in").each(function(e){$(this).removeData("value"),$(this).html("<h3>"+d[e].word+"</h3>"),$(this).data("value",d[e].word),$(this).data("index",e)}),logFile.push("第1題\n"),db.ref(fullDbUrl+"Detail").push("第1題")}()}